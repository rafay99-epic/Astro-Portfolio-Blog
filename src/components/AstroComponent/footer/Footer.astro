---
const today = new Date();
import SocialLinks from "../SocialMedia/SocialMedia.astro";
import { featureFlags } from "../../../config/featureFlag/featureFlag.json";
import packageJson from "../../../../package.json";
import authorConfig from "../../../config/siteConfig/info.json";
import ServicesIcons from "../../ReactComponent/footer/ServicesIcons";
---

<style>
  .footer-link {
    transition: all 0.2s ease;
  }

  .footer-link:hover {
    color: #7aa2f7;
    transform: translateY(-1px);
  }

  .astro-badge {
    transition: all 0.2s ease;
    opacity: 0.7;
  }

  .astro-badge:hover {
    opacity: 1;
    transform: scale(1.05);
  }

  .footer-section {
    transition: all 0.3s ease;
  }

  .footer-section:hover {
    transform: translateY(-2px);
  }

  .social-links-container {
    transition: all 0.2s ease;
  }

  .social-links-container:hover {
    transform: scale(1.05);
  }
</style>

<footer class="py-8 px-4 border-t border-[#565f89]/20 bg-gradient-to-b from-transparent to-[#1a1b26]/10">
  <div class="container mx-auto max-w-7xl">
    
    <!-- Main Footer Content -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
      
      <!-- Brand Section -->
      <div class="footer-section">
        <div class="flex items-center gap-3 mb-4">
          <img 
            src={authorConfig.avator} 
            alt={authorConfig.name}
            class="w-12 h-12 rounded-full border-2 border-[#7aa2f7]/30"
          />
          <div>
            <h3 class="text-lg font-semibold text-[#c0caf5]">{authorConfig.name}</h3>
            <p class="text-sm text-[#565f89]">{authorConfig.jobTitle}</p>
          </div>
        </div>
        <p class="text-sm text-[#565f89] mb-4 leading-relaxed">
          {authorConfig.SiteDescription}
        </p>
        <div class="social-links-container">
          <SocialLinks class="flex gap-3" />
        </div>
      </div>

      <!-- Navigation -->
      <div class="footer-section">
        <h3 class="text-lg font-semibold text-[#c0caf5] mb-4">Navigation</h3>
        <nav class="flex flex-col gap-3">
          {
            featureFlags.showAbout && (
              <a
                href="/about"
                class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
              >
                <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                About
              </a>
            )
          }
          {
            featureFlags.showBlog && (
              <a
                href="/blog"
                class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
              >
                <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                Blog
              </a>
            )
          }
          {
            featureFlags.showProjects && (
              <a
                href="/project"
                class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
              >
                <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                Projects
              </a>
            )
          }
          {
            featureFlags.showContact && (
              <a
                href="/contact-me"
                class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
              >
                <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                Contact
              </a>
            )
          }
          {
            featureFlags.showNotes && (
              <a
                href="/ms_notes"
                class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
              >
                <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                Notes
              </a>
            )
          }
        </nav>
      </div>

      <!-- Technology Stack -->
      <div class="footer-section">
        <h3 class="text-lg font-semibold text-[#c0caf5] mb-4">Technology Stack</h3>
        <div class="flex flex-col gap-3">
          <!-- Astro -->
          <a 
            href="https://astro.build" 
            class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-3 group"
          >
            <div class="flex items-center justify-center w-6 h-6 group-hover:scale-110 transition-transform duration-200">
              <svg class="w-5 h-5 text-[#ff6d3a]" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2L2 19h20L12 2zm0 3.99L19.53 19H4.47L12 5.99zM11 16h2v2h-2zm0-6h2v4h-2z"/>
              </svg>
            </div>
            <span class="font-medium">Astro Framework</span>
          </a>

          <!-- React -->
          <a 
            href="https://react.dev" 
            class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-3 group"
          >
            <div class="flex items-center justify-center w-6 h-6 group-hover:scale-110 transition-transform duration-200">
              <svg class="w-5 h-5 text-[#61dafb]" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14.23,12.004a2.236,2.236,0,0,1-2.235,2.236,2.236,2.236,0,0,1-2.236-2.236,2.236,2.236,0,0,1,2.235-2.236A2.236,2.236,0,0,1,14.23,12.004ZM11.995,24c-.263,0-.527-.027-.789-.077a12.044,12.044,0,0,1-9.46-9.461A11.87,11.87,0,0,1,1.5,12.005a11.87,11.87,0,0,1,.246-2.457,12.044,12.044,0,0,1,9.46-9.46A11.87,11.87,0,0,1,12.005,0a11.87,11.87,0,0,1,2.457.246,12.044,12.044,0,0,1,9.46,9.46,11.87,11.87,0,0,1,.246,2.457,11.87,11.87,0,0,1-.246,2.457,12.044,12.044,0,0,1-9.46,9.46A11.87,11.87,0,0,1,11.995,24ZM3.609,12.005a8.386,8.386,0,0,0,8.386,8.386,8.386,8.386,0,0,0,8.386-8.386,8.386,8.386,0,0,0-8.386-8.386A8.386,8.386,0,0,0,3.609,12.005Z"/>
              </svg>
            </div>
            <span class="font-medium">React Library</span>
          </a>

          <!-- Tailwind CSS -->
          <a 
            href="https://tailwindcss.com" 
            class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-3 group"
          >
            <div class="flex items-center justify-center w-6 h-6 group-hover:scale-110 transition-transform duration-200">
              <svg class="w-5 h-5 text-[#06b6d4]" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"/>
              </svg>
            </div>
            <span class="font-medium">Tailwind CSS</span>
          </a>

          <!-- Vercel -->
          <a 
            href="https://vercel.com" 
            class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-3 group"
          >
            <div class="flex items-center justify-center w-6 h-6 group-hover:scale-110 transition-transform duration-200">
              <svg class="w-5 h-5 text-[#000000] dark:text-[#ffffff]" viewBox="0 0 24 24" fill="currentColor">
                <path d="M24 22.525H0l12-21.05 12 21.05z"/>
              </svg>
            </div>
            <span class="font-medium">Vercel Deployment</span>
          </a>
        </div>
      </div>

      <!-- Services & Resources -->
      <div class="footer-section">
        <h3 class="text-lg font-semibold text-[#c0caf5] mb-4">Services & Resources</h3>
        <div class="grid grid-cols-1 gap-4">
          <div>
            <h4 class="text-sm font-medium text-[#7aa2f7] mb-3">Services</h4>
            <ServicesIcons client:visible services={authorConfig.services} />
          </div>
          <div>
            <h4 class="text-sm font-medium text-[#7aa2f7] mb-3">Resources</h4>
            <nav class="flex flex-col gap-3">
              {
                featureFlags.showPrivacyPolicy && (
                  <a
                    href="/privacy-policy"
                    class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
                  >
                    <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                    Privacy Policy
                  </a>
                )
              }
              {
                featureFlags.showTermsOfService && (
                  <a
                    href="/terms-of-service"
                    class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
                  >
                    <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                    Terms of Service
                  </a>
                )
              }
              {
                featureFlags.showWiki && (
                  <a
                    href="https://rafay99-docs.vercel.app/"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
                  >
                    <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                    Documentation
                  </a>
                )
              }
              <a
                href="https://github.com/rafay99-epic"
                target="_blank"
                rel="noopener noreferrer"
                class="footer-link text-sm text-[#a9b1d6] hover:text-[#7aa2f7] transition-colors duration-200 flex items-center gap-2"
              >
                <span class="w-1 h-1 bg-[#7aa2f7] rounded-full"></span>
                GitHub
              </a>
            </nav>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom: Copyright & Info -->
    <div class="flex flex-col sm:flex-row justify-between items-center gap-4 pt-6 border-t border-[#565f89]/10">
      <div class="text-center sm:text-left">
        <p class="text-[#565f89] text-sm">
          &copy; {new Date().getFullYear()} {authorConfig.name}. All rights reserved.
        </p>
        <p class="text-xs text-[#565f89]/70 mt-1 flex items-center gap-1 justify-center sm:justify-start">
          <span>Crafted with</span>
          <svg class="w-3 h-3 text-[#f7768e]" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          </svg>
          <span>and lots of</span>
          <svg class="w-3 h-3 text-[#e0af68]" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18.5 3H6c-1.1 0-2 .9-2 2v5.71c0 3.83 2.95 7.18 6.78 7.29 3.96.12 7.22-3.06 7.22-7v-1h.5c1.93 0 3.5-1.57 3.5-3.5S20.43 3 18.5 3z"/>
          </svg>
        </p>
      </div>

      <div class="flex items-center gap-4 text-xs text-[#565f89]">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 bg-[#9ece6a] rounded-full animate-pulse"></div>
          <span>v{packageJson.version}</span>
        </div>
        <span class="hidden sm:inline">•</span>
        <span class="hidden sm:inline">{today.toLocaleDateString('en-US', { 
          year: 'numeric', 
          month: 'short', 
          day: 'numeric' 
        })}</span>
        <span class="hidden md:inline">•</span>
        <span class="hidden md:inline">Last updated</span>
      </div>
    </div>
  </div>
</footer>
