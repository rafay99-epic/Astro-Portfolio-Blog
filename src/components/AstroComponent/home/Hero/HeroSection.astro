---
import authorConfig from "@config/siteConfig/info.json";

interface SocialLinks {
	twitter: string;
	github: string;
	upwork: string;
	youtube: string;
	whatsNumber: string;
	linkedin: string;
}

interface Props {
	name: string;
	jobTitle: string;
	position: string;
	picture: string;
	socialLinks: SocialLinks;
}

const { name, jobTitle, picture, socialLinks } = Astro.props as Props;
const stats = authorConfig.stats;
---

<style>
  @keyframes fade-up {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes mesh-move {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(30px, -20px) scale(1.05); }
    50% { transform: translate(-20px, 15px) scale(0.97); }
    75% { transform: translate(15px, 25px) scale(1.03); }
  }

  @keyframes mesh-move-reverse {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(-25px, 20px) scale(1.03); }
    50% { transform: translate(20px, -15px) scale(0.98); }
    75% { transform: translate(-15px, -25px) scale(1.05); }
  }

  @keyframes name-gradient {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  @keyframes aurora-shift {
    0%, 100% { opacity: 0.06; transform: translateX(-10%) scaleY(1); }
    33% { opacity: 0.1; transform: translateX(5%) scaleY(1.15); }
    66% { opacity: 0.07; transform: translateX(-5%) scaleY(0.9); }
  }

  .hero-fade-up {
    animation: fade-up 0.6s ease-out both;
  }

  .hero-fade-in {
    animation: fade-in 0.7s ease-out both;
  }

  .hero-name {
    background-size: 200% auto;
    animation: name-gradient 8s ease infinite;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .mesh-blob-1 {
    animation: mesh-move 20s ease-in-out infinite;
    will-change: transform;
  }

  .mesh-blob-2 {
    animation: mesh-move-reverse 25s ease-in-out infinite;
    will-change: transform;
  }

  .mesh-blob-3 {
    animation: mesh-move 18s ease-in-out infinite reverse;
    will-change: transform;
  }

  .aurora-band {
    animation: aurora-shift 12s ease-in-out infinite;
    will-change: transform, opacity;
  }

  .stat-divider {
    position: relative;
  }

  .stat-divider::after {
    content: '';
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    height: 32px;
    width: 1px;
    background: #414868;
    opacity: 0.4;
  }

  .stat-divider:last-child::after {
    display: none;
  }

  @media (max-width: 640px) {
    .stat-divider::after {
      display: none;
    }
  }
</style>

<section class="relative overflow-hidden bg-[#1a1b26]">
  <!-- Animated mesh gradient background -->
  <div class="absolute inset-0 overflow-hidden">
    <div
      class="mesh-blob-1 absolute -top-1/4 -left-1/4 h-[70vh] w-[70vh] rounded-full opacity-[0.08]"
      style="background: radial-gradient(circle, #7aa2f7, transparent 70%);"
    ></div>
    <div
      class="mesh-blob-2 absolute -bottom-1/4 -right-1/4 h-[60vh] w-[60vh] rounded-full opacity-[0.07]"
      style="background: radial-gradient(circle, #bb9af7, transparent 70%);"
    ></div>
    <div
      class="mesh-blob-3 absolute top-1/3 right-1/4 h-[40vh] w-[40vh] rounded-full opacity-[0.05]"
      style="background: radial-gradient(circle, #9ece6a, transparent 70%);"
    ></div>

    <!-- Aurora bands -->
    <div
      class="aurora-band absolute top-[15%] left-0 right-0 h-[200px] sm:h-[300px]"
      style="background: linear-gradient(90deg, transparent 0%, #7aa2f7 30%, #bb9af7 60%, transparent 100%); filter: blur(80px);"
    ></div>
    <div
      class="aurora-band absolute bottom-[20%] left-0 right-0 h-[150px] sm:h-[200px]"
      style="background: linear-gradient(90deg, transparent 0%, #bb9af7 40%, #7aa2f7 70%, transparent 100%); filter: blur(100px); animation-delay: -4s;"
    ></div>

    <!-- Subtle top vignette -->
    <div
      class="absolute inset-x-0 top-0 h-32"
      style="background: linear-gradient(to bottom, #1a1b26, transparent);"
    ></div>
  </div>

  <!-- Content -->
  <div class="relative z-10 mx-auto flex max-w-5xl flex-col items-center px-5 pt-28 pb-14 text-center sm:px-8 sm:pt-36 sm:pb-20">

    <!-- Avatar + status badge -->
    <div class="hero-fade-up mb-5 flex items-center gap-2.5 sm:gap-3" style="animation-delay: 0s;">
      <img
        src={picture}
        alt="Profile"
        class="h-11 w-11 rounded-full object-cover ring-2 ring-[#7aa2f7]/20 sm:h-14 sm:w-14"
      />
      <div class="flex items-center gap-2 rounded-full border border-[#414868]/20 bg-[#24283b]/40 px-3 py-1.5 backdrop-blur-sm sm:px-3.5">
        <span class="relative flex h-2 w-2">
          <span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-[#9ece6a] opacity-60"></span>
          <span class="relative inline-flex h-2 w-2 rounded-full bg-[#9ece6a]"></span>
        </span>
        <span class="text-[11px] font-medium text-[#a9b1d6] sm:text-xs">Available for Projects</span>
      </div>
    </div>

    <!-- Main heading - the star of the show -->
    <h1 class="hero-fade-up mb-4" style="animation-delay: 0.1s;">
      <span
        class="block text-[#c0caf5]"
        style="font-size: clamp(2.25rem, 6vw, 5rem); line-height: 1.05; font-weight: 700;"
      >Hey, I'm</span>
      <span
        class="hero-name block bg-gradient-to-r from-[#7aa2f7] via-[#bb9af7] to-[#7aa2f7]"
        style="font-size: clamp(3rem, 8vw, 7rem); line-height: 1; font-weight: 900; letter-spacing: -0.02em;"
      >{name}</span>
    </h1>

    <!-- Subtitle -->
    <p
      class="hero-fade-up mx-auto mb-6 max-w-2xl text-[#a9b1d6]"
      style="animation-delay: 0.2s; font-size: clamp(1rem, 1.8vw, 1.25rem); line-height: 1.6;"
    >
      <span class="text-[#7aa2f7]">{jobTitle}</span> crafting software through
      thoughtful design and engineering. I build
      <span class="text-[#bb9af7]">scalable</span> web & mobile systems that grow with users.
    </p>

    <!-- Stats -->
    <div
      class="hero-fade-up mb-8 flex flex-wrap items-center justify-center gap-4 sm:gap-8"
      style="animation-delay: 0.3s;"
    >
      {stats.map((stat) => (
        <div class="stat-divider pr-4 sm:pr-8">
          <div class="text-xl font-bold text-[#c0caf5] sm:text-2xl">{stat.value}</div>
          <div class="mt-0.5 text-[10px] font-medium uppercase tracking-wider text-[#565f89] sm:text-[11px]">{stat.label}</div>
        </div>
      ))}
    </div>

    <!-- CTA + Social -->
    <div class="hero-fade-up flex flex-col items-center gap-4 sm:gap-5" style="animation-delay: 0.4s;">
      <button
        id="connect-button"
        class="group relative cursor-pointer overflow-hidden rounded-full bg-gradient-to-r from-[#7aa2f7] to-[#bb9af7] px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-[#7aa2f7]/15 transition-all duration-300 hover:shadow-xl hover:shadow-[#7aa2f7]/25 sm:px-8 sm:py-3.5"
      >
        <span class="relative z-10 flex items-center gap-2">
          Let's Work Together
          <svg class="h-4 w-4 transition-transform duration-300 group-hover:translate-x-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </span>
        <span class="absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/15 to-transparent transition-transform duration-700 group-hover:translate-x-full"></span>
      </button>

      <div class="flex items-center gap-0.5 sm:gap-1">
        <a href={socialLinks.github} target="_blank" rel="noopener noreferrer" class="flex h-9 w-9 items-center justify-center rounded-lg text-[#565f89] transition-colors duration-200 hover:text-[#c0caf5]" aria-label="GitHub">
          <svg class="h-[16px] w-[16px] sm:h-[18px] sm:w-[18px]" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.387.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.726-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.757-1.333-1.757-1.09-.744.083-.729.083-.729 1.205.085 1.84 1.237 1.84 1.237 1.07 1.835 2.807 1.305 3.492.998.108-.775.418-1.305.76-1.605-2.665-.305-5.466-1.332-5.466-5.93 0-1.31.468-2.38 1.236-3.22-.124-.303-.536-1.527.117-3.176 0 0 1.008-.322 3.3 1.23.957-.266 1.984-.399 3.005-.404 1.02.005 2.047.138 3.006.404 2.29-1.552 3.297-1.23 3.297-1.23.655 1.65.243 2.873.12 3.176.77.84 1.235 1.91 1.235 3.22 0 4.61-2.804 5.624-5.476 5.92.43.37.81 1.096.81 2.21 0 1.595-.014 2.877-.014 3.27 0 .322.217.694.825.576C20.565 22.092 24 17.592 24 12.297 24 5.67 18.627.297 12 .297z"/></svg>
        </a>
        <a href={`https://www.linkedin.com/in/${socialLinks.linkedin}`} target="_blank" rel="noopener noreferrer" class="flex h-9 w-9 items-center justify-center rounded-lg text-[#565f89] transition-colors duration-200 hover:text-[#7aa2f7]" aria-label="LinkedIn">
          <svg class="h-[18px] w-[18px]" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.447-2.136 2.944v5.662H9.352V9.5h3.414v1.496h.048c.476-.9 1.637-1.852 3.37-1.852 3.603 0 4.268 2.372 4.268 5.455v5.853zM5.337 8.004a2.063 2.063 0 110-4.126 2.063 2.063 0 010 4.126zM6.997 20.452H3.673V9.5h3.324v10.952z"/></svg>
        </a>
        <a href={socialLinks.twitter} target="_blank" rel="noopener noreferrer" class="flex h-9 w-9 items-center justify-center rounded-lg text-[#565f89] transition-colors duration-200 hover:text-[#bb9af7]" aria-label="Twitter">
          <svg class="h-[18px] w-[18px]" viewBox="0 0 24 24" fill="currentColor"><path d="M23.953 4.569c-.885.392-1.83.656-2.825.775 1.014-.611 1.794-1.574 2.163-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-2.723 0-4.928 2.205-4.928 4.927 0 .386.045.762.127 1.124-4.094-.205-7.725-2.166-10.159-5.144-.423.722-.666 1.561-.666 2.475 0 1.708.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.062c0 2.385 1.693 4.374 3.946 4.827-.413.112-.849.171-1.296.171-.316 0-.626-.03-.927-.086.627 1.956 2.444 3.381 4.6 3.421-1.68 1.318-3.809 2.105-6.102 2.105-.396 0-.788-.023-1.175-.069 2.179 1.397 4.768 2.212 7.557 2.212 9.054 0 14.002-7.496 14.002-13.986 0-.213 0-.425-.015-.637.962-.695 1.8-1.562 2.46-2.549z"/></svg>
        </a>
        <a href={socialLinks.youtube} target="_blank" rel="noopener noreferrer" class="flex h-9 w-9 items-center justify-center rounded-lg text-[#565f89] transition-colors duration-200 hover:text-[#9ece6a]" aria-label="YouTube">
          <svg class="h-[18px] w-[18px]" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a2.97 2.97 0 00-2.088-2.103C19.413 3.5 12 3.5 12 3.5s-7.413 0-9.41.583A2.97 2.97 0 00.502 6.186 31.36 31.36 0 000 12a31.36 31.36 0 00.502 5.814 2.97 2.97 0 002.088 2.103C4.587 20.5 12 20.5 12 20.5s7.413 0 9.41-.583a2.97 2.97 0 002.088-2.103A31.36 31.36 0 0024 12a31.36 31.36 0 00-.502-5.814zM9.75 15.5v-7l6 3.5-6 3.5z"/></svg>
        </a>
      </div>
    </div>
  </div>

  <!-- Bottom gradient separator -->
  <div class="absolute inset-x-0 bottom-0 z-10 h-px bg-gradient-to-r from-transparent via-[#7aa2f7]/20 to-transparent"></div>
  <div
    class="absolute inset-x-0 bottom-0 h-24"
    style="background: linear-gradient(to top, #1a1b26, transparent);"
  ></div>

  <script is:inline>
    (function () {
      function smoothScrollTo(targetPosition, duration) {
        duration = duration || 2000;
        var startPosition = window.scrollY;
        var distance = targetPosition - startPosition;
        var start = null;
        var easeInOutCubic = function (t, b, c, d) {
          t /= d / 2;
          if (t < 1) return (c / 2) * t * t * t + b;
          t -= 2;
          return (c / 2) * (t * t * t + 2) + b;
        };
        var animation = function (currentTime) {
          if (start === null) start = currentTime;
          var timeElapsed = currentTime - start;
          var run = easeInOutCubic(timeElapsed, startPosition, distance, duration);
          window.scrollTo(0, run);
          if (timeElapsed < duration) requestAnimationFrame(animation);
        };
        requestAnimationFrame(animation);
      }

      function initHeroButton() {
        var btn = document.getElementById("connect-button");
        if (btn) {
          btn.addEventListener("click", function (e) {
            e.preventDefault();
            var el = document.querySelector("#contact-section");
            if (el) {
              smoothScrollTo(el.offsetTop - 100);
            } else {
              smoothScrollTo(document.body.scrollHeight);
            }
          });
        }
      }

      initHeroButton();
      document.addEventListener("astro:after-swap", initHeroButton);
    })();
  </script>
</section>
